<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mapper.EmployeeMapper">
    <resultMap id="EmployeeResult" type="com.entity.Employee">
        <result column="userid" property="userid" />
        <result column="username" property="username" />
        <result column="password" property="password" />
        <result column="countOfWorkInput" property="countOfWorkInput" />
    </resultMap>
	<select id="getTestAll" resultMap="EmployeeResult">
		select userid, username, password
		from users;
	</select>
	<select id="getUserWorksSatatus" resultMap="EmployeeResult">
		select userid,
		       username,
			   password,
			   (select count(userid) as countofadmin
		        from workmonth
		        where userid = users.userid and
		              year = #{year} and
		              month = #{month}) as countOfWorkInput
		from users
	</select>
</mapper>